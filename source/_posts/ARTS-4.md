---
title: ARTS-4
date: 2020-07-19 22:52:39
tags: arts
---

# Algorithm

[678. Valid Parenthesis String](https://leetcode.com/problems/valid-parenthesis-string/)

继续括号匹配，相比基础匹配增加了通配符 *，缺什么补什么，可作为左括号或右括号或空。这意味着遍历结束时才能确定 * 代表什么。

列举几种典型情况找规律

- `*)`：遇到右括号时，可以找 * 匹配。
- `(*` 和 `(*)`：到结束时才能确定 * 情况，前者作为右括号，后者作为空，后者优先找了左括号匹配。
- `*(`、`)*`：有顺序要求。

大概方案

- 遍历：遇到右括号优先找左括号匹配，其次找 * 匹配，都找不到则失败。
- 遍历结束后：左括号找 * 匹配

具体方案

- 方案 A：为了右括号能先后匹配，左括号与`*`分别放入两个栈。遍历结束后则两个栈出栈匹配。
  写完了带入 case `*(` 才发现顺序问题，两个栈导致不知道前后顺序，无法验证顺序。
- 方案 B：为了解决顺序问题，决定还是放入同一个列表，这样记录了顺序。但实现了一半发现虽然有顺序了，但是因为列表混合了两种字符，匹配过程需要各种查找位置，逻辑很乱，方案 A 的栈思路清晰很多。于是又想到是否可以在方案 A 基础上改进。
- 方案 C：基于方案 A 的两个栈，额外记录了 index，用于最后匹配时比较顺序。

最后方案 C 一次通过了，因为这次吸取上次教训边界条件考虑全了。但是如上面记录，中间来回换方案浪费了非常多时间，反思是动手之前应该先想清楚



# Tip




# Review


# Share
